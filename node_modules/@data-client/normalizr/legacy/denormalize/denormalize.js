import LocalCache from './localCache.js';
import getUnvisit from './unvisit.js';
import { getEntities } from '../WeakEntityMap.js';
export function denormalize(input, schema, entities, args = []) {
  // undefined means don't do anything
  if (schema === undefined || input === undefined) {
    return input;
  }
  return getUnvisit(getEntities(entities), new LocalCache(), args)(input, schema).data;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMb2NhbENhY2hlIiwiZ2V0VW52aXNpdCIsImdldEVudGl0aWVzIiwiZGVub3JtYWxpemUiLCJpbnB1dCIsInNjaGVtYSIsImVudGl0aWVzIiwiYXJncyIsInVuZGVmaW5lZCIsImRhdGEiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvZGVub3JtYWxpemUvZGVub3JtYWxpemUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvY2FsQ2FjaGUgZnJvbSAnLi9sb2NhbENhY2hlLmpzJztcbmltcG9ydCBnZXRVbnZpc2l0IGZyb20gJy4vdW52aXNpdC5qcyc7XG5pbXBvcnQgdHlwZSB7IFNjaGVtYSB9IGZyb20gJy4uL2ludGVyZmFjZS5qcyc7XG5pbXBvcnQgdHlwZSB7IERlbm9ybWFsaXplLCBEZW5vcm1hbGl6ZU51bGxhYmxlIH0gZnJvbSAnLi4vdHlwZXMuanMnO1xuaW1wb3J0IHsgZ2V0RW50aXRpZXMgfSBmcm9tICcuLi9XZWFrRW50aXR5TWFwLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRlbm9ybWFsaXplPFMgZXh0ZW5kcyBTY2hlbWE+KFxuICBpbnB1dDogYW55LFxuICBzY2hlbWE6IFMgfCB1bmRlZmluZWQsXG4gIGVudGl0aWVzOiBhbnksXG4gIGFyZ3M6IHJlYWRvbmx5IGFueVtdID0gW10sXG4pOiBEZW5vcm1hbGl6ZU51bGxhYmxlPFM+IHwgc3ltYm9sIHtcbiAgLy8gdW5kZWZpbmVkIG1lYW5zIGRvbid0IGRvIGFueXRoaW5nXG4gIGlmIChzY2hlbWEgPT09IHVuZGVmaW5lZCB8fCBpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGlucHV0IGFzIGFueTtcbiAgfVxuXG4gIHJldHVybiBnZXRVbnZpc2l0KFxuICAgIGdldEVudGl0aWVzKGVudGl0aWVzKSxcbiAgICBuZXcgTG9jYWxDYWNoZSgpLFxuICAgIGFyZ3MsXG4gICkoaW5wdXQsIHNjaGVtYSkuZGF0YTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBT0EsVUFBVSxNQUFNLGlCQUFpQjtBQUN4QyxPQUFPQyxVQUFVLE1BQU0sY0FBYztBQUdyQyxTQUFTQyxXQUFXLFFBQVEscUJBQXFCO0FBRWpELE9BQU8sU0FBU0MsV0FBV0EsQ0FDekJDLEtBQVUsRUFDVkMsTUFBcUIsRUFDckJDLFFBQWEsRUFDYkMsSUFBb0IsR0FBRyxFQUFFLEVBQ1E7RUFDakM7RUFDQSxJQUFJRixNQUFNLEtBQUtHLFNBQVMsSUFBSUosS0FBSyxLQUFLSSxTQUFTLEVBQUU7SUFDL0MsT0FBT0osS0FBSztFQUNkO0VBRUEsT0FBT0gsVUFBVSxDQUNmQyxXQUFXLENBQUNJLFFBQVEsQ0FBQyxFQUNyQixJQUFJTixVQUFVLENBQUMsQ0FBQyxFQUNoQk8sSUFDRixDQUFDLENBQUNILEtBQUssRUFBRUMsTUFBTSxDQUFDLENBQUNJLElBQUk7QUFDdkIifQ==